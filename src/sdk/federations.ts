/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { federationsRegister } from "../funcs/federationsRegister.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as models from "../models/index.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class Federations extends ClientSDK {
  /**
   * Process Federation Registration Request
   *
   * @remarks
   * The Authlete API is for implementations of the **federation registration
   * endpoint** that accepts "explicit client registration". Its details are
   * defined in [OpenID Connect Federation 1.0](https://openid.net/specs/openid-connect-federation-1_0.html).
   * The endpoint accepts `POST` requests whose `Content-Type`
   * is either of the following.
   * 1. `application/entity-statement+jwt`- `application/trust-chain+json`
   * When the `Content-Type` of a request is
   * `application/entity-statement+jwt`, the content of the request is
   * the entity configuration of a relying party that is to be registered.
   * In this case, the implementation of the federation registration endpoint
   * should call Authlete's `/federation/registration` API with the
   * entity configuration set to the `entityConfiguration` request
   * parameter.
   * On the other hand, when the `Content-Type` of a request is
   * `application/trust-chain+json`, the content of the request is a
   * JSON array that contains entity statements in JWT format. The sequence
   * of the entity statements composes the trust chain of a relying party
   * that is to be registered. In this case, the implementation of the
   * federation registration endpoint should call Authlete's
   * `/federation/registration` API with the trust chain set to the
   * `trustChain` request parameter.
   */
  async register(
    request: operations.FederationRegistrationApiRequest,
    options?: RequestOptions,
  ): Promise<models.FederationRegistrationResponse> {
    return unwrapAsync(federationsRegister(
      this,
      request,
      options,
    ));
  }
}
